
@{
    ViewBag.Title = "login_page";
}

<h2>Login Page</h2>
<br />
<input type="text" id="username" placeholder="Username"/><br />
<input type="password" id="password" placeholder="Password" /><br />
<button onclick="login()">Login</button>

<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script>
    function login() {
        var data = {
            'username': $("#username").val(),
            'password': $("#password").val()
        }

        $.ajax({
            type: 'post',
            url: 'login',
            data: data,
            async: true,
            success: function (response) {
                var result = JSON.parse(response)
                if (result[0].result == "success") {
                    window.location.href = "profile_page";
                }
                else {
                    alert("Error: Invalid Credentials");
                }
            }
        })
    }
</script>